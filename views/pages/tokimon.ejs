<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <% if (results.length) { %>
    <title>Tokimon Database - <%= results[0].name %></title>
    <% }
    else { %> 
    <title>Tokimon Database</title>
    <% } %>
    <link rel="stylesheet" href="/stylesheets/tokimon.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="/scripts/tokimon.js" defer></script>
</head>

<html lang="eng">
    <div class="sidebar">
        <button id="homeBtn">Home</button>
    </div>

    <body>
        <main> 
            <% if (results.length) { %>
            <h1 id="name"><%= results[0].name %></h1>
            <% }
            else { %> 
            <h1>This Tokimon doesn't exist</h1>
            <% } %>
            
            <table>
                <tr>
                    <th>Name</th>
                    <th>Weight</th>
                    <th>Height</th>
                    <th>Fly</th>
                    <th>Fight</th>
                    <th>Fire</th>
                    <th>Water</th> 
                    <th>Electric</th>
                    <th>Ice</th>
                    <th>Total</th>
                    <th>Trainer</th>
                    <th>Gender</th>
                    <th>Friendship</th>
                    <th>Experience</th> 
                </tr>
                <% if (results.length) {
                    for (var i = 0; i < results.length; i++) { %>
                <tr>
                    <td><%= results[i].name %></td>
                    <td><%= results[i].weight %></td>
                    <td><%= results[i].height %></td>
                    <td><%= results[i].fly %></td>
                    <td><%= results[i].fight %></td>
                    <td><%= results[i].fire %></td>
                    <td><%= results[i].water %></td> 
                    <td><%= results[i].electric %></td>
                    <td><%= results[i].ice %></td>
                    <td><%= results[i].total %></td>
                    <td><%= results[i].trainer %></td>
                    <td><%= results[i].gender %></td>
                    <td><%= results[i].friendship %></td>
                    <td><%= results[i].experience %></td> 
                </tr>
                    <% }
                }
                else { %>
                <tr>
                    <td colspan="15">No Tokimon</td>
                </tr>
                <% } %>

            </table>
            <table id="allData" style="display: none;">
                    <% if (all_results.length) {
                        for (var i = 0; i < all_results.length; i++) { %>
                    <tr>
                        <td><%= all_results[i].name %></td>
                        <td><%= all_results[i].weight %></td>
                        <td><%= all_results[i].height %></td>
                    </tr>
                        <% }
                    }
                    else { %>
                    <tr>
                        <td colspan="15">No Tokimon</td>
                    </tr>
                    <% } %>
    
            <canvas id="figures" height=100>                
            </canvas>
            <p>The width of each rectangle depicts the Tokimon's weight, and the height of each rectangle depicts the Tokimon's height.</p>
            <p>The shaded rectangle is the currently viewed Tokimon.</p>
        </main>
    </body>
</html>
